//
// DISCLAIMER:
// Do not change this file because it is core styling.
// Customizing core files will make updating Atlas much more difficult in the future.
// To customize any core styling, copy the part you want to customize to styles/web/sass/app/ so the core styling is overwritten.
//
@mixin layout-grid() {
    /* ==========================================================================
       Layout grid

       Default Bootstrap containers
    ========================================================================== */
    .mx-layoutgrid {
        width: 100%;
        margin-right: auto;
        margin-left: auto;
        display: flex;
        flex-direction: column;
        row-gap: var(--layoutgrid-row-gap);
        --layoutgrid-column-bg: transparent;
        --layoutgrid-column-gap: var(--gutter-size);
        --layoutgrid-row-gap: var(--gutter-size);
        --layoutgrid-column-border-radius: var(--border-radius-l);

        &.cards {
            // default column & row gap for card style
            --layoutgrid-row-gap: var(--gutter-size); //var(--spacing-medium);
            --layoutgrid-column-gap: var(--gutter-size); //var(--spacing-medium);
            --layoutgrid-column-bg: var(--bg-color-secondary);
            --card-bg-color: var(--layoutgrid-column-bg);
            --card-border-radius: var(--layoutgrid-column-border-radius);

            >.row {
                >.col,
                >[class*="col-"] {
                    @extend .card;
                }
            }
        }

        &.layoutgrid-align-stretch {
            height: 100%;
            >.row {
                height: 100%;
            }
        }

        &.layoutgrid-align-top {
            height: 100%;
            justify-content: flex-start;
        }

        &.layoutgrid-align-center {
            height: 100%;
            justify-content: center;
        }

        &.layoutgrid-align-bottom {
            height: 100%;
            justify-content: flex-end;
        }

        >.row {
            display: flex;
            column-gap: var(--layoutgrid-column-gap);
            >.col,
            >[class*="col-"] {
                background-color: var(--layoutgrid-column-bg);
            }
        }
    }

    // Row
    .row {
        display: flex;
        flex-wrap: wrap;

        &::before,
        &::after {
            content: normal;
        }
    }

    .no-gutters {
        margin-right: 0;
        margin-left: 0;
        --layoutgrid-column-gap: 0px;
    }

    .no-gutters>.col,
    .no-gutters>[class*="col-"] {
        padding-right: 0;
        padding-left: 0;
    }

    // Columns
    .col,
    [class^="col-"] {
        position: relative;
        width: 100%;
    }
    
    // Responsiveness
    $breakpoints: (
        "" "" 0 0,
        "sm" "-sm" $screen-sm 540px,
        "md" "-md" $screen-md 720px,
        "lg" "-lg" $screen-lg 960px,
        "xl" "-xl" $screen-xl 1140px,
        "xxl" "-xxl" $screen-xxl 1360px
    );

@each $size, $suffix, $value, $max-width in $breakpoints {
    @media (min-width: #{$value}) {
        @if $size !="" {
            .mx-layoutgrid-fixed {
                max-width: #{$max-width};
            }
        }

        .col#{$suffix} {
            flex-grow: 1;
            flex-basis: 0;
            max-width: 100%;
        }
        .col#{$suffix}-auto {
            flex: 0 0 auto;
            width: auto;
            max-width: 100%;
        }
        @for $i from 1 through 12 {
            .col#{$suffix}-#{$i} {
                $col: calc(12 / #{$i});
                $width: calc(100% / $col - var(--layoutgrid-column-gap) / $col * ($col - 1));
                flex: 0 0 $width;
                max-width: $width;
            }
        }

        .order#{$suffix}-first {
            order: -1;
        }
        .order#{$suffix}-last {
            order: 13;
        }

        @for $i from 0 through 12 {
            .order#{$suffix}-#{$i} {
                order: #{$i};
            }
        }

        @for $i from 0 through 11 {

            .offset#{$suffix}-#{$i},
            .col#{$suffix}-offset-#{$i} {
                margin-left: calc(100% * #{$i} / 12);
            }
        }
    }
}
}
